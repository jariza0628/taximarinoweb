<div class="container">
  <div id="reporte"  class="row">
    <div class="col-sm">
      <h4>Reportes Diarios</h4>
      <div class="row">
        <div class="col-sm">
          <label for="date">Filtar por fecha</label>
          <input id="date" class="form-control" type="date" #dates [(ngModel)]="date" (change)="search()">
        </div>
        <div class="col-sm">
          <label for="seller">Filtar por vendedor</label>
          <select id="seller" class="custom-select custom-select mb-3 " #sellers (change)="search()"
                  [(ngModel)]="seller">
            <option selected>Selecciona un vendedor</option>
            <option *ngFor="let item of users" value="{{item.user}}">{{item.user}}</option>
          </select>
        </div>
        <div class="col-sm">
          <button [disabled]="!seller && !date" class="btn-success btn"  (click)="generateReport()">Generar Reporte</button>
        </div>
      </div>

      <div #report class="row details">
        <div class="col-lg-2 col-md-2 font-weight-bold">VENDEDOR</div>
        <div class="col-lg-10 col-md-10">{{seller}}</div>
        <div class="col-lg-2 col-md-2 font-weight-bold">MANILLAS VENDIDAS</div>
        <div class="col-lg-10 col-md-10">{{data.length}}</div>
        <div class="col-lg-2 col-md-2 font-weight-bold">SERVICIOS VENDIDOS</div>
        <div class="col-lg-10 col-md-10">{{totalBracelet}}</div>
        <div class="col-lg-2 col-md-2 font-weight-bold">ITEM</div>
        <div class="col-lg-1 col-md-1 font-weight-bold">CODIGO</div>
        <div class="col-lg-2 col-md-2 font-weight-bold">CLIENTE</div>
        <div class="col-lg-3 col-md-3 font-weight-bold">SERVICIO</div>
        <div class="col-lg-2 col-md-2 font-weight-bold">TOTAL SERVICIO</div>
        <div class="col-lg-2 col-md-2 font-weight-bold">TIPO DE PAGO</div>
        <ng-container *ngFor="let sale of data; let i = index;">
          <div class="col-lg-2 col-md-2 ">{{i + 1}}</div>
          <div class="col-lg-1 col-md-1 ">{{sale.codebar}}</div>
          <div class="col-lg-2 col-md-2 ">{{sale.name}}</div>
          <div class="col-lg-3 col-md-3 text-max">{{servicesSale(sale)}}</div>
          <div class="col-lg-2 col-md-2 ">${{totalbySale(sale) | number}}</div>
          <div class="col-lg-2 col-md-2 ">{{typePayment(sale)}}</div>
        </ng-container>
        <div class="col-lg-2 col-md-2 font-weight-bold"></div>
        <div class="col-lg-1 col-md-1 font-weight-bold"></div>
        <div class="col-lg-2 col-md-2 font-weight-bold"></div>
        <div class="col-lg-3 col-md-3 font-weight-bold">TOTAL</div>
        <div class="col-lg-2 col-md-2 font-weight-bold">${{total | number}}</div>
        <div class="col-lg-2 col-md-2 font-weight-bold"></div>
        <br>
        <div class="col-lg-2 col-md-2 font-weight-bold">NOMBRE</div>
        <div class="col-lg-1 col-md-1 font-weight-bold">CANTIDAD</div>
        <div class="col-lg-2 col-md-2 font-weight-bold"></div>
        <div class="col-lg-3 col-md-3 font-weight-bold">VALOR SERVICIO</div>
        <div class="col-lg-2 col-md-2 font-weight-bold"></div>
        <div class="col-lg-2 col-md-2 font-weight-bold"></div>
        <ng-container *ngFor="let service of services">
          <div class="col-lg-2 col-md-2 ">{{service.name}}</div>
          <div class="col-lg-1 col-md-1 ">{{countByService(service)}}</div>
          <div class="col-lg-2 col-md-2 "></div>
          <div class="col-lg-3 col-md-3 ">${{service.publicvalue | number}}</div>
          <div class="col-lg-2 col-md-2 ">${{countByService(service) * service.publicvalue | number}}</div>
          <div class="col-lg-2 col-md-2 "></div>
        </ng-container>
        <div class="col-lg-5  col-md-5 font-weight-bold"></div>
        <div class="col-lg-3 col-md-3 font-weight-bold">TOTAL PAGO EFECTIVO</div>
        <div class="col-lg-4 col-md-4 font-weight-bold">${{totalByTypePayment(paymentType.cash) |number}}</div>
        <div class="col-lg-5  col-md-5 font-weight-bold"></div>
        <div class="col-lg-3 col-md-3 font-weight-bold">TOTAL PAGO CRÃ‰DITO</div>
        <div class="col-lg-4 col-md-4 font-weight-bold">${{totalByTypePayment(paymentType.credit) | number}}</div>
        <div class="col-lg-5  col-md-5 font-weight-bold"></div>
        <div class="col-lg-3 col-md-3 font-weight-bold">TOTAL PAGO TARJETA</div>
        <div class="col-lg-4 col-md-4 font-weight-bold">${{totalByTypePayment(paymentType.card) | number}}</div>
        <div class="col-lg-5  col-md-5 font-weight-bold"></div>
        <div class="col-lg-3 col-md-3 font-weight-bold">TOTAL VENTAS</div>
        <div class="col-lg-4 col-md-4 font-weight-bold">${{total | number}}</div>
        <div class="col-lg-5  col-md-5 font-weight-bold"></div>


      </div>

    </div>

  </div>

</div>
